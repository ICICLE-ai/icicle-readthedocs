<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>README &#8212; ICICLE-READTHEDOCS  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=cb25574f" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="readme">
<h1>README<a class="headerlink" href="#readme" title="Link to this heading">¶</a></h1>
<p>This repo contains files to help users write short “local install scripts” to
build, install, and manage software in their home directories. Typically, a
user will want to copy <code class="docutils literal notranslate"><span class="pre">install-osc_sample.sh</span></code> and follow the notes within to
get it to download, build, and install the desired software. Some additional
description of the install script and template are provided below, as well as
simple example at the bottom.</p>
<p>If you have questions or need help writing an install script, feel free to
contact <a class="reference external" href="mailto:oschelp&#37;&#52;&#48;osc&#46;edu">OSC Help</a>.</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">install-template.sh</span></code> is a template script with default/”boilerplate” functions
to be sourced at the beginning of all user install scripts.</p>
<p><code class="docutils literal notranslate"><span class="pre">install-osc_sample.sh</span></code> is an example of an install script that a user would
copy and modify to locally install some software that OSC does not provide.</p>
<p>The expectation is that users will copy <code class="docutils literal notranslate"><span class="pre">install-osc_sample.sh</span></code> and modify it
to suit their needs. Note that by default:</p>
<ul class="simple">
<li><p>The download and build directories, as well as the log file, will be placed in the directory from which the install script is run</p></li>
<li><p>The software will be installed into <code class="docutils literal notranslate"><span class="pre">$HOME/osc_apps/&lt;pkgname&gt;/&lt;pkgversion&gt;</span></code> (configurable by making a modified config file)</p></li>
<li><p>The module file will be placed in <code class="docutils literal notranslate"><span class="pre">$HOME/osc_apps/lmodfiles/&lt;pkgname&gt;/&lt;pkgversion&gt;.lua</span></code> (configurable by making a modified config file)</p></li>
</ul>
<p>Assuming the default for the module file directory, the user will need to run
<code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">use</span> <span class="pre">$HOME/osc_apps/lmodfiles</span></code> in any session in which they want to load
their locally-installed software.</p>
</section>
<section id="command-line-options">
<h2>Command-line options<a class="headerlink" href="#command-line-options" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">|</span> <span class="pre">--config</span> <span class="pre">&lt;config_file&gt;</span></code>:  Specify location of non-default config file to be used during installation</p>
</section>
<section id="environment-variables">
<h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Link to this heading">¶</a></h2>
<section id="defined-by-the-install-script">
<h3>Defined by the install script<a class="headerlink" href="#defined-by-the-install-script" title="Link to this heading">¶</a></h3>
<p>These environment variables may be optionally defined by the user in the install script and modify the behavior of the template file:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MODULE_SETTING</span></code>:  if <code class="docutils literal notranslate"><span class="pre">only</span></code>, skip installation and just update the module file; if <code class="docutils literal notranslate"><span class="pre">none</span></code>, then do not generate a module file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VERIFY_FILES</span></code>:  list of files that must be in the install directory for a valid installation, exit with error if any are missing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KEEP_INSTALLDIR</span></code>: if <code class="docutils literal notranslate"><span class="pre">1</span></code>, do not delete install directory at beginning of installation; otherwise, delete install directory</p></li>
</ul>
</section>
<section id="defined-by-the-template">
<h3>Defined by the template<a class="headerlink" href="#defined-by-the-template" title="Link to this heading">¶</a></h3>
<p>These variables are defined by the template file and can be used by the user in the install script:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">installdir</span></code>: directory where application should be installed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">srcdir</span></code>: directory containing install script, build directory, and log files for application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">moddir</span></code>: directory module file for application should be located</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modfile</span></code>: module file to be created/updated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">builddir</span></code>: directory where application should be built</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dldir</span></code>: directory where files necessary for installation should be downloaded</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkgmaj</span></code>: major version of application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkgmin</span></code>: minor version of application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkgpatch</span></code>: patch version of application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkgmajmin</span></code>: major and minor version of application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkgbugfix</span></code>: bug fix version of application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CC</span></code>: C compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXX</span></code>: C++ compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FC</span></code>: Fortran compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">F77</span></code>: Fortran77 compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">F90</span></code>: Fortran90 compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COMPILER_FAMILY</span></code>: compiler family (i.e., GNU, Intel, or PGI)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MPI_CC</span></code>: MPI C compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MPI_CXX</span></code>: MPI Fortran compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MPI_FC</span></code>: MPI Fortran compiler</p></li>
</ul>
</section>
<section id="defined-by-config-file">
<h3>Defined by config file<a class="headerlink" href="#defined-by-config-file" title="Link to this heading">¶</a></h3>
<p>These variables are defined by the config file. Several (marked below as UNUSED) are not used for these local installs and are only kept in the config file for the purpose of consistency with our central install scripts.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">system_name</span></code>: UNUSED</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">topdir</span></code>: top-level directory for installations (default <code class="docutils literal notranslate"><span class="pre">~/osc_apps</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modtop</span></code>: top-level directory for module files (default <code class="docutils literal notranslate"><span class="pre">~/osc_apps/lmodfiles</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">srctop</span></code>: UNUSED (software is downloaded and built in the directory from which the install script is run)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_cache_command</span></code>: UNUSED</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">installdirlen</span></code>: UNUSED</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_facls</span></code>: UNUSED</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">add_facls</span></code>: UNUSED
A user can copy the provided config file and make changes as needed. In this case, the install script must be run with the <code class="docutils literal notranslate"><span class="pre">-c|--config</span></code> flag:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">install</span><span class="o">-</span><span class="n">osc</span><span class="o">.</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">to</span> <span class="n">modified</span> <span class="n">config</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<p>For a simple example of a local installation using an install script, see the <code class="docutils literal notranslate"><span class="pre">example</span></code> subdirectory and the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> within.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">ICICLE-READTHEDOCS</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">AI for CI-for-AI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">HARP - HPC Application Runtime Predictor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html#acknowledgements">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iSpLib/README.html">iSpLib - An Intelligent Sparse Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../iSpLib/README.html#acknowledgements">Acknowledgements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Architecture and Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tapis-project/README.html">Base ICICLE Tapis Software - Tapis is a hosted, web-based API framework for securely managing computational workloads across infrastructure and institutions so that experts can focus on their research instead of the technology.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../event-engine/README.html">Event Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../event-engine/README.html#acknowledgement">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hello_icicle_auth_clients/README.html">Hello ICICLE Authentication Clients - Hello ICICLE Authentication consists of two command line interface (CLI) tools to authenticate with the Tapis Pods service. The first tool, ICICONSOLE, is specifically tailored to working with Neo4j databases hosted through the Tapis Pods. The second tool, TapisCL-ICICLE, allows the user to manage, operate, and interactively explore Tapis services.</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, ICICLE.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/harp/install-script-source/README.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>