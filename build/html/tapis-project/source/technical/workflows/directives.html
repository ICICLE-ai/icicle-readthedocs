<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Directives (experimental) &#8212; ICICLE-READTHEDOCS  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b3523f8e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=cb25574f" />
    <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="directives-experimental">
<h1>Directives (experimental)<a class="headerlink" href="#directives-experimental" title="Link to this heading">¶</a></h1>
<p>Directives are a special set of commands that override the default execution behavior of a pipeline
or its tasks. Directives can be provided in either a commit message or the request body.</p>
<section id="commit-message-directives">
<h2>Commit Message Directives<a class="headerlink" href="#commit-message-directives" title="Link to this heading">¶</a></h2>
<p>Directives must be placed inside square brackets at the end of the commit message
Multiple Directives must be separated by a pipe “|”
Directives that require a key-value pair must have the key and value separated by a colon “:”
The directive string in a commit message must comply with the following regex(Python flavor) pattern:
<code class="docutils literal notranslate"><span class="pre">\[[a-zA-Z0-9\s:|._-]+\]</span></code></p>
<p><strong>Directive Usage Examples</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Some commit message [no_push]&quot;</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Some commit message [cache|custom_tag:my-custom-tagV.1]&quot;</span>
</pre></div>
</div>
<p><strong>List of Directives</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">custom_tag</span></code> - Overrides the destination <code class="docutils literal notranslate"><span class="pre">image_tag</span></code> on an <em>image_build</em> task. Tags an image with the value provided after “custom_tag:”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commit_destination</span></code> - Overrides the destination <code class="docutils literal notranslate"><span class="pre">image_tag</span></code> on an <em>image_build</em> task. Dynamically tags the image with the short commit sha of the last commit(and push) that triggered the pipeline.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no_push</span></code> (pending) - Overrides the image build destination. Creates a local file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dry_run</span></code> - prevents the pipeline from running. Used to test whether the desired Pipeline is matched.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nocache</span></code> (unsupported) - prevents the image builder in an “image_build” task from caching the image layers. This will result in longer build times for subsequent builds.</p></li>
</ul>
</div></blockquote>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">ICICLE-READTHEDOCS</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">AI for CI-for-AI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../harp/README.html">HARP - HPC Application Runtime Predictor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../harp/README.html#acknowledgements">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../iSpLib/README.html">iSpLib - An Intelligent Sparse Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../iSpLib/README.html#acknowledgements">Acknowledgements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Architecture and Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../README.html">Base ICICLE Tapis Software - Tapis is a hosted, web-based API framework for securely managing computational workloads across infrastructure and institutions so that experts can focus on their research instead of the technology.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../event-engine/README.html">Event Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../event-engine/README.html#acknowledgement">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../hello_icicle_auth_clients/README.html">Hello ICICLE Authentication Clients - Hello ICICLE Authentication consists of two command line interface (CLI) tools to authenticate with the Tapis Pods service. The first tool, ICICONSOLE, is specifically tailored to working with Neo4j databases hosted through the Tapis Pods. The second tool, TapisCL-ICICLE, allows the user to manage, operate, and interactively explore Tapis services.</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, ICICLE.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../../_sources/tapis-project/source/technical/workflows/directives.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>