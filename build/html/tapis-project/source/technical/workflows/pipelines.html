<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pipelines &mdash; ICICLE-READTHEDOCS  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html">
            
              <img src="https://aiinstitutes.org/wp-content/uploads/2022/07/icicle.jpeg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">AI for CI-for-AI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/ICICLE_Foodshed_Parser.html">Constrained Language Models Yield Few-Shot Semantic Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/PPOD_CA.html">PPOD_CA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/Region2vec.html">Region2vec</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/Species-Classification-Multimodal-Context.html">Species Classification using Multimodal Heterogeneous Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/Species-Classification-Multimodal-Context.html#acknowledgements">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/Store_Closure_Website.html">Store_Closure_Website (Version 1)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">ICICLE-READTHEDOCS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Pipelines</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/tapis-project/source/technical/workflows/pipelines.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pipelines">
<h1>Pipelines<a class="headerlink" href="#pipelines" title="Link to this heading"></a></h1>
<p>A <em>pipeline</em> is a collection of tasks and a set of rules governing how those tasks are to be executed.</p>
<section id="pipeline-attributes-table">
<h2>Pipeline Attributes Table<a class="headerlink" href="#pipeline-attributes-table" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>id</p></td>
<td><p>String</p></td>
<td><p>my.pipeline</p></td>
<td><ul class="simple">
<li><p>Must be unique within the group</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>uuid</p></td>
<td><p>String(UUIDv4)</p></td>
<td><p>e48ada7a-56b4-4d48-974c-7574d51a8789</p></td>
<td><ul class="simple">
<li><p>Globally unique identifier for the pipeline</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>owner</p></td>
<td><p>String</p></td>
<td><p>jsmith</p></td>
<td><ul class="simple">
<li><p>The only user that can delete the pipeline</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>group</p></td>
<td><p>String(UUIDv4)</p></td>
<td><p>e48ada7a-56b4-4d48-974c-7574d51a8789</p></td>
<td><ul class="simple">
<li><p>The uuid of the group that owns this pipeline</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>last_run</p></td>
<td><p>String(UUIDv4)</p></td>
<td><p>e48ada7a-56b4-4d48-974c-7574d51a8789</p></td>
<td><ul class="simple">
<li><p>The UUID of the previous pipeline run</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>current_run</p></td>
<td><p>String(UUIDv4)</p></td>
<td><p>e48ada7a-56b4-4d48-974c-7574d51a8789</p></td>
<td><ul class="simple">
<li><p>The UUID of the current running pipeline</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>tasks</p></td>
<td><p>Array[Task]</p></td>
<td><p><strong>See the Task section for the Task object</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>execution_profile</p></td>
<td><p>Object</p></td>
<td><p><strong>See table below</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>env</p></td>
<td><p>Object</p></td>
<td><p><strong>See Pipeline Envrionment section below</strong></p></td>
<td><ul class="simple">
<li><p>Environment variables to be used by tasks in a pipeline run</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<section id="execution-profile-attributes-table">
<h3>Execution Profile Attributes Table<a class="headerlink" href="#execution-profile-attributes-table" title="Link to this heading"></a></h3>
<p>Overrides the default behavior of the Workflow Executor regarding task retries,
backoff algorithm, max lifetime of the pipeline, etc. All Execution Profile properties of the
pipeline are inherited by the tasks that belong to the pipeline unless otherwise specified in the
task definition.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>max_retries</p></td>
<td><p>Int</p></td>
<td><p>0, 3, 10</p></td>
<td><ul class="simple">
<li><p>The number of times that the Workflow Executor will try to rerun the task if it fails. Defualts to <strong>0</strong></p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>invocation_mode</p></td>
<td><p>Enum</p></td>
<td><p>async, sync</p></td>
<td><ul class="simple">
<li><p>Default is “async”. When “async” is selected, all tasks will be executed concurrently. Currently, async is the only support option</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>retry_policy</p></td>
<td><p>Enum</p></td>
<td><p>exponential_backoff</p></td>
<td><ul class="simple">
<li><p>Dictates which policy to employ when restarting tasks. Default(and only supported option) is exponential_backoff</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>max_exec_time</p></td>
<td><p>Int</p></td>
<td><p>60, 3600, 10800</p></td>
<td><ul class="simple">
<li><p>The maximum amount of time in seconds that a pipeline(or task) is permitted to run. As soon as the sum of all task runs equals this limit, the pipeline(or task) is terminated. Defaults to 3600 seconds(1 hour)</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="pipeline-envrionment">
<h3>Pipeline Envrionment<a class="headerlink" href="#pipeline-envrionment" title="Link to this heading"></a></h3>
<p>The Pipeline Envrionment (the <em>env</em> property of a pipeline definition) is a mechanism for exposing
static global data to task inputs. The Pipeline Envrionment is an object in which the keys are the
name of the variables and the value is either a scalar data (string, number, etc) or an object
with a  <em>value_from</em> property which references data from a source external to the the
workflow (ex. Tapis Security Kernel).</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;env&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;TAPIS_SYSTEM_ID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tapisv3-exec&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;MANIFEST_FILES_DIR&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/manifest/files&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;TAPIS_USERNAME&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;someusername&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;TAPIS_PASSWORD&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;value_from&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;tapis-security-kernel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;some+sk+id&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="retrieval">
<h2>Retrieval<a class="headerlink" href="#retrieval" title="Link to this heading"></a></h2>
<p>Retrieve details for a specific pipeline</p>
<p>The response should look similar to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
   <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
   <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Success&quot;</span><span class="p">,</span>
   <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;some_pipeline_id&quot;</span><span class="p">,</span>
     <span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;c487c25f-6c6e-457d-a781-85120df9f10b&quot;</span><span class="p">,</span>
     <span class="s2">&quot;invocation_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;async&quot;</span><span class="p">,</span>
     <span class="s2">&quot;max_exec_time&quot;</span><span class="p">:</span> <span class="mi">10800</span><span class="p">,</span>
     <span class="s2">&quot;max_retries&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="s2">&quot;owner&quot;</span><span class="p">:</span> <span class="s2">&quot;testuser2&quot;</span><span class="p">,</span>
     <span class="s2">&quot;retry_policy&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential_backoff&quot;</span><span class="p">,</span>
     <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;e48ada7a-56b4-4d48-974c-7574d51a8789&quot;</span><span class="p">,</span>
     <span class="s2">&quot;current_run&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
     <span class="s2">&quot;last_run&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
     <span class="s2">&quot;tasks&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;build&quot;</span><span class="p">,</span>
         <span class="s2">&quot;cache&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
         <span class="s2">&quot;depends_on&quot;</span><span class="p">:</span> <span class="p">[],</span>
         <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Build an image from a repository and push it to an image registry&quot;</span><span class="p">,</span>
         <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;invocation_mode&quot;</span><span class="p">:</span> <span class="s2">&quot;async&quot;</span><span class="p">,</span>
         <span class="s2">&quot;max_exec_time&quot;</span><span class="p">:</span> <span class="mi">3600</span><span class="p">,</span>
         <span class="s2">&quot;max_retries&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
         <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;pipeline&quot;</span><span class="p">:</span> <span class="s2">&quot;e48ada7a-56b4-4d48-974c-7574d51a8789&quot;</span><span class="p">,</span>
         <span class="s2">&quot;poll&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;retry_policy&quot;</span><span class="p">:</span> <span class="s2">&quot;exponential_backoff&quot;</span><span class="p">,</span>
         <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;image_build&quot;</span><span class="p">,</span>
         <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;e442b5df-8a9e-4d55-b4da-c51b7241a79f&quot;</span><span class="p">,</span>
         <span class="s2">&quot;builder&quot;</span><span class="p">:</span> <span class="s2">&quot;singularity&quot;</span><span class="p">,</span>
         <span class="s2">&quot;context&quot;</span><span class="p">:</span> <span class="s2">&quot;5bd771ab-8df5-43cd-a059-fbaa2323841b&quot;</span><span class="p">,</span>
         <span class="s2">&quot;destination&quot;</span><span class="p">:</span> <span class="s2">&quot;b34d1439-d2c9-4238-ab74-13b5fd7f3b1f&quot;</span><span class="p">,</span>
         <span class="s2">&quot;auth&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;headers&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;http_method&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;protocol&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;query_params&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;tapis_job_def&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
         <span class="s2">&quot;tapis_actor_id&quot;</span><span class="p">:</span> <span class="n">null</span>
       <span class="p">}</span>
     <span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="deletion">
<h2>Deletion<a class="headerlink" href="#deletion" title="Link to this heading"></a></h2>
<p>Deleting a Pipeline will delete all of it’s tasks. This operation
can only be performed the owner of the pipeline.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ICICLE.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>